{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Michael Chang\\\\dronuts-2019-group-4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Michael Chang\\\\dronuts-2019-group-4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Michael Chang\\\\dronuts-2019-group-4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Michael Chang\\\\dronuts-2019-group-4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Michael Chang\\\\dronuts-2019-group-4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Michael Chang\\\\dronuts-2019-group-4\\\\client\\\\src\\\\components\\\\customer\\\\Header.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { withRouter } from 'react-router';\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n\n    _this.handleCart = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        showCart: !_this.state.showCart\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n    };\n\n    _this.state = {\n      showCart: false,\n      cart: _this.props.cartItems\n    };\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"handleCheckout\",\n    value: function handleCheckout() {\n      axios.post('http://credit.17-356.isri.cmu.edu/api/transactions', {\n        \"companyId\": \"dronuts_group_4\",\n        \"amount\": this.props.total\n      }).then(function (response) {\n        console.log(response);\n        console.log(response.data.id);\n        window.location = 'http://credit.17-356.isri.cmu.edu?transaction_id=' + response.data.id;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var cartItems = this.state.cart.map(function (item) {\n        return React.createElement(\"div\", {\n          className: \"cart-item\",\n          key: item.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"cart-image\",\n          src: item.image,\n          alt: item.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"item-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"item-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, item.name), React.createElement(\"p\", {\n          className: \"item-price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, item.price, \"$\")), React.createElement(\"div\", {\n          className: \"item-total\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"quantity\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, \"x\", item.quantity, \" \"), React.createElement(\"p\", {\n          className: \"amount\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"Total: \", item.quantity * item.price, \"$\"), React.createElement(\"button\", {\n          className: \"item-remove\",\n          onClick: _this2.props.removeItem.bind(_this2, item.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"\\xD7\")));\n      });\n      return React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"logo\",\n        src: \"https://cmu-17-356.github.io/Dronuts/assets/Dronut.png\",\n        alt: \"Dronuts Logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cart-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"No. of items\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \":\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.props.totalItems))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Sub Total\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \":\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, this.props.total, \"$\")))))), React.createElement(\"button\", {\n        className: \"cart-icon\",\n        href: \"#\",\n        onClick: this.handleCart.bind(this),\n        ref: \"cartButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://res.cloudinary.com/sivadass/image/upload/v1493548928/icons/bag.png\",\n        alt: \"Cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), this.props.totalItems ? React.createElement(\"span\", {\n        className: \"cart-count\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.props.totalItems) : \"\"), React.createElement(\"div\", {\n        className: \"cart-items\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \" \", this.state.showCart && cartItems, \" \"), React.createElement(\"div\", {\n        className: \"action-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, this.state.cart.length > 0 ? React.createElement(\"button\", {\n        type: \"button\",\n        className: \"checkout\",\n        onClick: this.handleCheckout.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"CHECKOUT\") : \"\"))));\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nexport default withRouter(Header);","map":{"version":3,"sources":["C:\\Users\\Michael Chang\\dronuts-2019-group-4\\client\\src\\components\\customer\\Header.js"],"names":["React","Component","axios","withRouter","Header","props","handleCart","e","preventDefault","setState","showCart","state","handleSubmit","cart","cartItems","post","total","then","response","console","log","data","id","window","location","catch","error","map","item","name","image","price","quantity","removeItem","bind","totalItems","length","handleCheckout"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from 'react-router';\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showCart: false,\r\n      cart: this.props.cartItems,\r\n    };\r\n  }\r\n\r\n  handleCart = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      showCart: !this.state.showCart\r\n    });\r\n  }\r\n\r\n  handleCheckout(){\r\n        axios.post('http://credit.17-356.isri.cmu.edu/api/transactions', {\r\n        \"companyId\": \"dronuts_group_4\",\r\n        \"amount\": this.props.total,\r\n      })\r\n      .then(function (response) {\r\n        console.log(response);\r\n        console.log(response.data.id)\r\n        window.location = 'http://credit.17-356.isri.cmu.edu?transaction_id=' + response.data.id;\r\n\r\n      }).catch(function (error) {\r\n        console.log(error);\r\n        });\r\n\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    let cartItems = this.state.cart.map(item => {\r\n      return (\r\n        <div className=\"cart-item\" key={item.name}>\r\n        <img className=\"cart-image\" src={item.image} alt={item.name}/>\r\n        <div className=\"item-info\">\r\n        <p className=\"item-name\">{item.name}</p>\r\n        <p className=\"item-price\">{item.price}$</p>\r\n        </div>\r\n        <div className=\"item-total\">\r\n        <p className=\"quantity\">x{item.quantity} </p>\r\n        <p className=\"amount\">Total: {item.quantity * item.price}$</p>\r\n        <button\r\n        className=\"item-remove\"\r\n        onClick={this.props.removeItem.bind(this, item.id)}\r\n        >\r\n        ×\r\n        </button>\r\n        </div></div>\r\n        );\r\n      });\r\n\r\n      return (\r\n      <header>\r\n      <div className=\"container\">\r\n      <div className=\"brand\">\r\n      <img\r\n      className=\"logo\"\r\n      src=\"https://cmu-17-356.github.io/Dronuts/assets/Dronut.png\"\r\n      alt=\"Dronuts Logo\"\r\n      />\r\n      </div>\r\n\r\n      <div className=\"cart\">\r\n      <div className=\"cart-info\">\r\n      <table>\r\n      <tbody>\r\n      <tr>\r\n      <td>No. of items</td>\r\n      <td>:</td>\r\n      <td>\r\n      <strong>{this.props.totalItems}</strong>\r\n      </td>\r\n      </tr>\r\n      <tr>\r\n      <td>Sub Total</td>\r\n      <td>:</td>\r\n      <td>\r\n      <strong>{this.props.total}$</strong>\r\n      </td>\r\n      </tr>\r\n      </tbody>\r\n      </table>\r\n      </div>\r\n      <button\r\n      className=\"cart-icon\"\r\n      href=\"#\"\r\n      onClick={this.handleCart.bind(this)}\r\n      ref=\"cartButton\"\r\n      >\r\n      <img\r\n      src=\"https://res.cloudinary.com/sivadass/image/upload/v1493548928/icons/bag.png\"\r\n      alt=\"Cart\"\r\n      />\r\n      {this.props.totalItems ? (\r\n        <span className=\"cart-count\">{this.props.totalItems}</span>\r\n        ) : (\"\")\r\n      }\r\n      </button>\r\n        <div className=\"cart-items\"> {this.state.showCart && cartItems} </div>\r\n        <div className=\"action-block\">\r\n        {this.state.cart.length > 0 ? (\r\n          <button\r\n          type=\"button\"\r\n          className=\"checkout\"\r\n          onClick={this.handleCheckout.bind(this)}>\r\n          CHECKOUT\r\n\r\n          </button> ) : \"\" }\r\n        </div>\r\n        </div>\r\n        </div>\r\n        </header>\r\n        );\r\n      }\r\n    }\r\n\r\n  export default withRouter(Header);"]},"metadata":{},"sourceType":"module"}